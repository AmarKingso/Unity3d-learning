## IMGUI实现
> 使用IMGUI中的HorizontalScrollbar控件来实现血条，改变其thumb的大小即可达到预期效果

- 右击Hierarchy界面，选择Create Empty，创建一个空的游戏对象，并将其改名为HP-IMGUI
- 在Asset中创建一个Scripts文件夹，在其中创建脚本，脚本代码如下：
```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class HP_IMGUI : MonoBehaviour {
	public float health;      //血量，相当于HorizontalScrollbar的thumb大小

	void Start()
	{
		health = 100.0f;      //初始血量
	}

	void OnGUI()
	{
		if (GUI.Button(new Rect(Screen.width / 2 - 30, 70, 60, 40), "回血"))
		{
			health = health < 100.0f ? health + 1.0f : 100.0f;
		}
		if (GUI.Button(new Rect(Screen.width / 2 - 30, 120, 60, 40), "扣血"))
		{
			health = health > 0.0f ? health - 1.0f : 0.0f;
		}

		GUI.HorizontalScrollbar(new Rect(Screen.width / 2 - 100, 20, 200, 40), 0.0f, health, 0.0F, 100.0F);
	}
}
```
- 将脚本挂载到HP-IMGUI上，如此一来可以得到以下效果：  
![在这里插入图片描述](https://img-blog.csdnimg.cn/20191119235449490.png)
- 在Asset中创建Prefabs文件夹，并将HP-IMGUI拖入，即可实现预制的制作

## UGUI实现
> 由于我下载的2018.3个人版没有自带的Standard Assets，只能通过Asset Store下载2017.3版本的，虽然说应用到高版本上会有一些问题，但应付此次作业应该是绰绰有余了
- 菜单 Assets -> Import Package -> Characters 导入资源
- 在层次视图，Context 菜单 -> 3D Object -> Plane 添加 Plane 对象
- 资源视图展开 Standard Assets :: Charactors :: ThirdPersonCharater :: Prefab
- 将 ThirdPersonController 预制拖放放入场景，改名为 Ethan
- 检查以下属性 
  - Plane 的 Transform 的 Position = (0,0,0)
  - Ethan 的 Transform 的 Position = (0,0,0)
  - Main Camera 的 Transform 的 Position = (0,1,-10)
  
- 选择 Ethan 用上下文菜单 -> UI -> Canvas, 添加画布子对象
- 选择 Ethan 的 Canvas，用上下文菜单 -> UI -> Slider 添加滑条作为血条子对象

- 选择 Ethan 的 Canvas，在 Inspector 视图 
  - 设置 Canvas 组件 Render Mode 为 World Space
  - 设置 Rect Transform 组件 (PosX，PosY，Width， Height) 为 (0,2,160,20)
  - 设置 Rect Transform 组件 Scale （x,y） 为 (0.01,0.01)
- 展开 Slider 
  - 选择 Handle Slider Area，禁灰（disable）该元素
  - 选择 Background，禁灰（disable）该元素
  - 选择 Fill Area 的 Fill，修改 Image 组件的 Color 为 红色
- 选择 Slider 的 Slider 组件 
  - 设置 MaxValue 为 100
  - Value值就相当于血量，根据需求设置
- 此时血条是依然会随着人物的旋转而旋转的，要实现血条始终面向Camera，则需要添加以下脚本，并将其挂载到Canvas
```c#
using UnityEngine;

public class LookAtCamera : MonoBehaviour {
	void Update()
	{
		this.transform.LookAt(Camera.main.transform.position);
	}
}
```
- 此时运行代码，就可以发现血条始终对着Camera
![在这里插入图片描述](https://img-blog.csdnimg.cn/20191120000733974.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Rpb3NtYWlfa2luZ3Nv,size_16,color_FFFFFF,t_70)

- 修改之前IMGUI实现的脚本，实现点击两个按钮，IMGUI和UGUI实现的血条会同时响应
  - 在脚本中添加```using UnityEngine.UI;```用于引用Slider
  - 在类中添加一个public的Slider变量，如：```public Slider hp;```
  - 在OnGUI中，使用增/减过后的health为Slider变量的value属性赋值，如：```hp.value = health;```
  - 保存后，将Slider对象拖入到上述脚本文件中的Slider属性栏中，即可实现效果

- 将Canvas拖入此前创建的Prefabs文件夹中，即可实现预制的制作

## IMGUI与UGUI优缺点
### IMGUI
#### 优点
- 简单易用，易于新手 UI 入门，帮助新手理解引擎的游戏循环
- 在修改模型，渲染模型这样的经典游戏循环编程模式中，在渲染阶段之后，绘制 UI 界面无可挑剔
- 既避免了 UI 元素保持在屏幕最前端，又有最佳的执行效率

#### 缺点
- 不利于布局/动画/Style配置
- 其代码质量不高，以至于开发效率低下，难以调试
- 使用场景较为局限，按 Unity 官方说法，IMGUI 主要用于以下场景：
	- 在游戏中创建调试显示工具
	- 为脚本组件创建自定义的 Inspector 面板。
	- 创建新的编辑器窗口和工具来扩展 Unity 环境

### UGUI
#### 优点
- 所见即所得（WYSIWYG）设计工具
- 支持多模式、多摄像机渲染
- 面向对象的编程

## 预制使用方法
### IMGUI的预制血条
直接将预制文件拖入场景，并点击运行即可

### UGUI的预制血条
按照上面所说的方法先导入资源，创建角色等，然后将预制的canvas拖入角色对象，成为角色的子对象即可
